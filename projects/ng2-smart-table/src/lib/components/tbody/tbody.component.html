<tr *ngFor="let row of grid.getRows()" (click)="userSelectRow.emit(row)" (mouseover)="rowHover.emit(row)" class="ng2-smart-row" [className]="rowClassFunction(row)" [ngClass]="{selected: row.isSelected}">
  <td *ngIf="isMultiSelectVisible" class="ng2-smart-actions ng2-smart-action-multiple-select" (click)="multipleSelectRow.emit(row)">
    <input type="checkbox" [ngModel]="row.isSelected">
  </td>
  <td *ngIf="!row.isInEditing && showActionColumnLeft" class="ng2-smart-actions">
    <ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom>

    <ng2-st-tbody-edit-delete [grid]="grid"
                              [deleteConfirm]="deleteConfirm"
                              [editConfirm]="editConfirm"
                              (edit)="edit.emit(row)"
                              (delete)="delete.emit(row)"
                              (editRowSelect)="editRowSelect.emit($event)"
                              [row]="row"
                              [source]="source">
    </ng2-st-tbody-edit-delete>
  </td>
   <td *ngIf="row.isInEditing && showActionColumnLeft"  class="ng2-smart-actions">
    <ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel>
  </td>

  <ng-container *ngIf="displayConfig?.type === 'singleColumn'">
    <td [colSpan]="row.cells.length" [class]="displayConfig.columnClass" [style]="displayConfig.columnStyle">

        <div [class]="displayConfig?.containerClass" [style]="displayConfig?.containerStyle">

          <ng-container *ngFor="let group of displayConfigGroups">

            <div *ngIf="group.collapseConfig" [class]="group.collapseConfig.class" [style]="group.collapseConfig.style">
              <div (click)="collapseGroup(row, group)" [ngStyle]="getByCollapsed(row, group, 'class')" [ngClass]="getByCollapsed(row, group, 'class')" [innerHTML]="getByCollapsed(row, group, 'content')"></div>
            </div>

            <div [class]="group.class" [style]="group.style" [style.display]="getCollapseDisplay(row, group)">

              <ng-container *ngFor="let cell of row.cells">

                  <div *ngIf="group.name === cell.getColumn().group" [class]="cell.getColumn().class" [style]="cell.getColumn().style">
                    <div [class]="cell.getColumn().labelClass" [style]="cell.getColumn().labelStyle">
                      <ng2-smart-column-title [source]="source" [column]="cell.getColumn()" (sort)="sort.emit($event)"></ng2-smart-column-title>
                    </div>
                    <div [class]="cell.getColumn().valueClass" [style]="cell.getColumn().valueStyle">
                      <ng2-smart-table-cell [cell]="cell"
                                            [grid]="grid"
                                            [row]="row"
                                            [isNew]="false"
                                            [mode]="mode"
                                            [editConfirm]="editConfirm"
                                            [inputClass]="editInputClass"
                                            [isInEditing]="row.isInEditing">
                      </ng2-smart-table-cell>
                    </div>
                  </div>

              </ng-container>

            </div>
          </ng-container>

          <div [class]="displayConfig?.defaultGroupClass" [style]="displayConfig?.defaultGroupStyle">
            <ng-container *ngFor="let cell of row.cells">

              <div *ngIf="cell.getColumn().group === undefined" [class]="cell.getColumn().class" [style]="cell.getColumn().style">
                <div [class]="cell.getColumn().labelClass" [style]="cell.getColumn().labelStyle">
                  <ng2-smart-column-title [source]="source" [column]="cell.getColumn()" (sort)="sort.emit($event)"></ng2-smart-column-title>
                </div>
                <div [class]="cell.getColumn().valueClass" [style]="cell.getColumn().valueStyle">
                  <ng2-smart-table-cell [cell]="cell"
                                        [grid]="grid"
                                        [row]="row"
                                        [isNew]="false"
                                        [mode]="mode"
                                        [editConfirm]="editConfirm"
                                        [inputClass]="editInputClass"
                                        [isInEditing]="row.isInEditing">
                  </ng2-smart-table-cell>
                </div>
              </div>

            </ng-container>
          </div>

        </div>

    </td>
  </ng-container>

  <ng-container *ngIf="grid?.settings?.displayConfig?.type === 'default' || !grid?.settings?.displayConfig?.type">
    <td *ngFor="let cell of row.cells">
      <ng2-smart-table-cell [cell]="cell"
                            [grid]="grid"
                            [row]="row"
                            [isNew]="false"
                            [mode]="mode"
                            [editConfirm]="editConfirm"
                            [inputClass]="editInputClass"
                            [isInEditing]="row.isInEditing">
      </ng2-smart-table-cell>
    </td>
  </ng-container>

  <td *ngIf="row.isInEditing && showActionColumnRight"  class="ng2-smart-actions">
    <ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel>
  </td>

  <td *ngIf="!row.isInEditing && showActionColumnRight" class="ng2-smart-actions">
    <ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom>

    <ng2-st-tbody-edit-delete [grid]="grid"
                              [deleteConfirm]="deleteConfirm"
                              [editConfirm]="editConfirm"
                              [row]="row"
                              [source]="source"
                              (edit)="edit.emit(row)"
                              (delete)="delete.emit(row)"
                              (editRowSelect)="editRowSelect.emit($event)">
    </ng2-st-tbody-edit-delete>
  </td>
</tr>

<tr *ngIf="grid.getRows().length == 0">
  <td [attr.colspan]="tableColumnsCount">
    {{ noDataMessage }}
  </td>
</tr>
